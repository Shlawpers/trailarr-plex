import{a as ue}from"./chunk-CXOWZH6R.js";import{a as U,b as ae}from"./chunk-RTGB2GLE.js";import{a as E,b as y,c as w,d as se,e as de,f as ce,g as me,h as pe,i as he}from"./chunk-3UEDCT75.js";import"./chunk-BEAUVXES.js";import{d as ne,e as oe}from"./chunk-53SIXYQU.js";import{a as le}from"./chunk-IK2DGUM6.js";import{z as re}from"./chunk-PSGRVHCD.js";import{a as _e}from"./chunk-LLDKFHLB.js";import{$a as Y,Bb as X,Gb as J,Hb as ee,Ib as B,Ja as $,Jb as g,Kb as H,La as Q,Lb as F,Na as u,Ta as z,Ua as W,Ub as A,Xb as q,Ya as j,Yb as Z,Zb as te,_a as K,bb as f,ca as T,dc as L,hb as O,ib as I,ka as p,la as _,ma as v,mb as S,na as C,ob as k,pb as V,qb as D,qc as ie,rb as o,sb as a,ta as R,tb as c,wb as N,xb as M,ya as G,yb as h,za as x,zb as s}from"./chunk-M4QNQTBX.js";var ve=(()=>{class n{constructor(){this.el=T(G),this.nearEnd=new R,this.threshold=200}ngOnInit(){this.window=window}windowScrollEvent(e){let t=this.window.document.documentElement.scrollHeight,i=this.el.nativeElement.scrollHeight,l=this.window.scrollY,r=this.window.innerHeight,m=t-i;i-r-l+m<this.threshold&&this.nearEnd.emit()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=K({type:n,selectors:[["","appScrollNearEnd",""]],hostBindings:function(t,i){t&1&&h("scroll",function(r){return i.windowScrollEvent(r)},!1,Q)},inputs:{threshold:"threshold"},outputs:{nearEnd:"nearEnd"}})}}return n})();var fe=(()=>{class n{transform(e){return e=e.replace("_at",""),e.charAt(0).toUpperCase()+e.slice(1)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275pipe=Y({name:"displayTitle",type:n,pure:!0})}}return n})();var xe=["showFiltersDialog"],Ce=n=>({media:n}),Se=n=>["/media",n];function Te(n,d){n&1&&(v(),o(0,"svg",19),c(1,"path",29),a())}function Oe(n,d){n&1&&(v(),o(0,"svg",19),c(1,"path",30),a())}function be(n,d){if(n&1&&(o(0,"div"),f(1,Te,2,0,":svg:svg",19)(2,Oe,2,0,":svg:svg",19),a()),n&2){let e=s(3);u(),S(e.sortAscending()?1:2)}}function Ee(n,d){if(n&1){let e=M();o(0,"div",28),h("click",function(){let i=p(e).$implicit,l=s(2);return _(l.setMediaSort(i))}),g(1),q(2,"displayTitle"),f(3,be,3,1,"div"),a()}if(n&2){let e=d.$implicit,t=s(2);u(),F(" ",Z(2,2,e)," "),u(2),S(t.selectedSort()==e?3:-1)}}function ye(n,d){n&1&&(o(0,"div"),v(),o(1,"svg",19),c(2,"path",32),a()())}function Pe(n,d){if(n&1){let e=M();o(0,"div",31),h("click",function(){let i=p(e).$implicit,l=s(2);return _(l.setMediaFilter(i))}),g(1),q(2,"displayTitle"),f(3,ye,3,0,"div"),a()}if(n&2){let e=d.$implicit,t=s(2);u(),F(" ",Z(2,2,e)," "),u(2),S(t.selectedFilter()==e?3:-1)}}function Fe(n,d){if(n&1){let e=M();o(0,"div",3)(1,"div",14),h("click",function(){p(e);let i=s();return _(i.inEditMode=!0)}),v(),o(2,"svg",15),c(3,"path",16),a(),C(),o(4,"span"),g(5,"Edit"),a()(),c(6,"div",17),o(7,"div",18),v(),o(8,"svg",19),c(9,"path",20),a(),C(),o(10,"div"),g(11),q(12,"displayTitle"),a(),o(13,"div",21),V(14,Ee,4,4,"div",22,k),a()(),o(16,"div",23),v(),o(17,"svg",19),c(18,"path",24),a(),C(),o(19,"div"),g(20),q(21,"displayTitle"),a(),o(22,"div",25),V(23,Pe,4,4,"div",10,k),o(25,"div",26),h("click",function(){p(e);let i=s();return _(i.openFilterDialog())}),o(26,"span"),g(27,"Custom Filters"),a(),v(),o(28,"svg",19),c(29,"path",27),a()()()()()}if(n&2){let e=s();u(11),H(Z(12,2,e.selectedSort())),u(3),D(e.sortOptions),u(6),H(Z(21,4,e.selectedFilter())),u(3),D(e.allFilters())}}function ke(n,d){if(n&1){let e=M();o(0,"div",4)(1,"div",33),h("click",function(){p(e);let i=s();return _(i.batchUpdate("monitor"))}),v(),o(2,"svg",34),c(3,"path",35),a(),C(),o(4,"span"),g(5,"Monitor"),a()(),o(6,"div",36),h("click",function(){p(e);let i=s();return _(i.batchUpdate("unmonitor"))}),v(),o(7,"svg",37),c(8,"path",38),a(),C(),o(9,"span"),g(10,"UnMonitor"),a()(),o(11,"div",39),h("click",function(){p(e);let i=s();return _(i.openProfileSelectDialog())}),v(),o(12,"svg",40),c(13,"path",41),a(),C(),o(14,"span"),g(15,"Download"),a()(),o(16,"div",42),h("click",function(){p(e);let i=s();return _(i.batchUpdate("delete"))}),v(),o(17,"svg",43),c(18,"path",44),a(),C(),o(19,"span"),g(20,"Delete"),a()(),o(21,"div",45),h("click",function(){p(e);let i=s();return _(i.toggleEditMode(!1))}),v(),o(22,"svg",46),c(23,"path",47),a(),C(),o(24,"span"),g(25,"Cancel"),a()(),c(26,"div",17),o(27,"p",48)(28,"span"),g(29,"Selected: "),a(),g(30),o(31,"span"),g(32),a()(),o(33,"div",49),h("click",function(){p(e);let i=s();return _(i.selectAll())}),v(),o(34,"svg",50),c(35,"path",51),a()(),C(),o(36,"div",52),h("click",function(){p(e);let i=s();return _(i.selectedMedia=[])}),v(),o(37,"svg",50),c(38,"path",53),a()()()}if(n&2){let e=s();u(30),F(" ",e.selectedMedia.length," "),u(2),F(" / ",e.filteredSortedMedia().length,"")}}function Ve(n,d){n&1&&c(0,"app-load-indicator",6)}function De(n,d){n&1&&(o(0,"div",6),v(),o(1,"svg",55),c(2,"path",56),a(),C(),o(3,"p"),g(4,"No media items found matching the selected filter!"),a()())}function qe(n,d){n&1&&N(0)}function Ze(n,d){if(n&1){let e=M();o(0,"div",57)(1,"input",59),h("click",function(i){return p(e),_(i.stopPropagation())})("change",function(i){p(e);let l=s().$implicit,r=s(2);return _(r.onMediaSelected(l,i))}),a(),f(2,qe,1,0,"ng-container",60),a()}if(n&2){let e=s().$implicit,t=s(2),i=B(6);O("title",e.title),u(),O("id",e.id)("checked",t.selectedMedia.includes(e.id)),u(),O("ngTemplateOutlet",i)("ngTemplateOutletContext",A(5,Ce,e))}}function He(n,d){n&1&&N(0)}function Ae(n,d){if(n&1&&(o(0,"div",58),f(1,He,1,0,"ng-container",60),a()),n&2){let e=s().$implicit;s(2);let t=B(6);O("routerLink",A(5,Se,e.id))("title",e.title)("id",e.id),u(),O("ngTemplateOutlet",t)("ngTemplateOutletContext",A(7,Ce,e))}}function Le(n,d){if(n&1&&f(0,Ze,3,7,"div",57)(1,Ae,2,9,"div",58),n&2){let e=s(2);S(e.inEditMode?0:1)}}function Ie(n,d){if(n&1){let e=M();f(0,De,5,0,"div",6),o(1,"div",54),h("nearEnd",function(){p(e);let i=s();return _(i.onNearEndScroll())}),V(2,Le,2,1,null,null,k),a()}if(n&2){let e=s();S(e.filteredSortedMedia().length===0?0:-1),u(2),D(e.displayMedia())}}function Ne(n,d){n&1&&(v(),o(0,"svg",63)(1,"g",66)(2,"path",67),c(3,"animateTransform",68),a()()())}function Be(n,d){n&1&&(v(),o(0,"svg",64),c(1,"path",35),a())}function Ue(n,d){if(n&1&&(v(),o(0,"svg",69),c(1,"path",70),a()),n&2){let e=s().media;I("success",e.trailer_exists)}}function Re(n,d){if(n&1){let e=M();o(0,"label",61)(1,"img",62),h("load",function(){let i=p(e).media;return _(i.isImageLoaded=!0)})("error",function(){let i=p(e).media;return _(i.isImageLoaded=!0)}),a(),o(2,"p"),g(3),a()(),f(4,Ne,4,0,":svg:svg",63)(5,Be,2,0,":svg:svg",64)(6,Ue,2,2,":svg:svg",65)}if(n&2){let e=d.media;O("for",e.id),u(),I("animated-gradient",!e.isImageLoaded),X("id","mediaImage",e.id,""),O("src",e.poster_path||"assets/poster-sm.png",$)("alt",e.title),u(2),H(e.title),u(),S(e.status.toLowerCase()=="downloading"?4:e.monitor?5:6)}}function Ge(n,d){if(n&1){let e=M();o(0,"div",10)(1,"span",71),h("click",function(){let i=p(e).$implicit,l=s();return _(l.openFilterEditDialog(i))}),g(2),a(),v(),o(3,"svg",72),h("click",function(){let i=p(e).$implicit,l=s();return _(l.deleteFilter(i.id))}),c(4,"path",44),a()()}if(n&2){let e=d.$implicit;u(2),F(" ",e.filter_name," ")}}var we=(()=>{class n{constructor(){this.mediaService=T(ae),this.router=T(ne),this.webSocketService=T(le),this.viewContainerRef=T(z),this.customfilterService=T(pe),this.moviesOnly=x(null),this.isLoading=x(!0),this.inEditMode=!1,this.selectedMedia=[],this.sortOptions=["title","year","added_at","updated_at"],this.filterOptions=["all","downloaded","downloading","missing","monitored","unmonitored"],this.customFilters=x([]),this.allFilters=L(()=>this.filterOptions.concat(this.customFilters().map(e=>e.filter_name))),this.selectedSort=x("added_at"),this.sortAscending=x(!0),this.selectedFilter=x("all"),this.defaultDisplayCount=50,this.displayCount=x(this.defaultDisplayCount),this.allMedia=x([]),this.filteredSortedMedia=L(()=>this.computeFilteredNSortedMedia()),this.displayMedia=L(()=>this.filteredSortedMedia().slice(0,this.displayCount())),this.lastUpdateTime=0,this.UPDATE_INTERVAL=3,this.filterDisplayed=!1,this.showFiltersDialog=W.required("showFiltersDialog")}ngOnInit(){switch(this.isLoading.set(!0),this.router.routerState.snapshot.url.toLowerCase()){case"/movies":this.moviesOnly.set(!0);break;case"/series":this.moviesOnly.set(!1);break;default:this.moviesOnly.set(null),this.filterOptions=["all","movies","series"],this.selectedFilter.set("all"),this.selectedSort.set("updated_at"),this.sortAscending.set(!1)}this.retrieveSortNFilterOptions();let i=this.moviesOnly()==null?"downloaded":"all";this.mediaService.fetchAllMedia(this.moviesOnly(),i).subscribe(l=>{this.allMedia.set(l.map(r=>U(r))),this.isLoading.set(!1)}),this.webSocketService.toastMessage.subscribe(()=>{this.fetchUpdatedMedia()}),setTimeout(()=>{this.fetchUpdatedMedia()},1e4)}applyFilter(e,t){let i=e.filter_value,l=e.filter_by;if(se.includes(l)){let r=t[l],m=i.toLowerCase()==="true";return r===m}if(de.includes(l)){let r=new Date(t[l]),m=new Date(i);switch(e.filter_condition){case E.IS_AFTER:return r>m;case E.IS_BEFORE:return r<m;case E.IN_THE_LAST:let b=new Date;return b.setDate(b.getDate()-parseInt(i)),r>b;case E.NOT_IN_THE_LAST:let P=new Date;return P.setDate(P.getDate()-parseInt(i)),r<P;case E.EQUALS:return r.getDate()===m.getDate();case E.NOT_EQUALS:return r.getDate()!==m.getDate();default:return!0}}if(ce.includes(l)){let r=t[l],m=parseInt(i);switch(e.filter_condition){case y.GREATER_THAN:return r>m;case y.GREATER_THAN_EQUAL:return r>=m;case y.LESS_THAN:return r<m;case y.LESS_THAN_EQUAL:return r<=m;case y.EQUALS:return r===m;case y.NOT_EQUALS:return r!==m;default:return!0}}if(me.includes(l)){let r=t[l];switch(e.filter_condition){case w.CONTAINS:return r.includes(i);case w.NOT_CONTAINS:return!r.includes(i);case w.EQUALS:return r===i;case w.NOT_EQUALS:return r!==i;case w.STARTS_WITH:return r.startsWith(i);case w.NOT_STARTS_WITH:return!r.startsWith(i);case w.ENDS_WITH:return r.endsWith(i);case w.NOT_ENDS_WITH:return!r.endsWith(i);case w.IS_EMPTY:return r==="";case w.IS_NOT_EMPTY:return r!=="";default:return!0}}return!0}applyCustomFilter(e,t){let i=this.customFilters().find(l=>l.filter_name===e);return this.filterDisplayed||(this.filterDisplayed=!0),i?i.filters.every(l=>this.applyFilter(l,t)):!0}computeFilteredNSortedMedia(){this.lastUpdateTime=Date.now();let e=this.allMedia().filter(t=>{switch(this.selectedFilter()){case"all":return!0;case"downloaded":return t.trailer_exists;case"downloading":return t.status.toLowerCase()==="downloading";case"missing":return!t.trailer_exists;case"monitored":return t.monitor;case"unmonitored":return!t.monitor&&!t.trailer_exists;case"movies":return t.is_movie&&t.trailer_exists;case"series":return!t.is_movie&&t.trailer_exists;default:return this.applyCustomFilter(this.selectedFilter(),t)}});return e.sort((t,i)=>{let l=t[this.selectedSort()],r=i[this.selectedSort()];return l instanceof Date&&r instanceof Date?this.sortAscending()?l.getTime()-r.getTime():r.getTime()-l.getTime():typeof l=="number"&&typeof r=="number"?this.sortAscending()?l-r:r-l:this.sortAscending()?t[this.selectedSort()].toString().localeCompare(i[this.selectedSort()].toString()):i[this.selectedSort()].toString().localeCompare(t[this.selectedSort()].toString())}),e}fetchUpdatedMedia(e=!1){let t=Date.now(),i=Math.min(Math.floor(Math.abs(t-this.lastUpdateTime)/1e3),1e3);(i>this.UPDATE_INTERVAL||e)&&(this.mediaService.fetchUpdatedMedia(i).subscribe(l=>{let r=l.map(m=>U(m));this.allMedia.update(m=>m.map(b=>{let P=r.find(Me=>Me.id===b.id);return P||b}))}),this.lastUpdateTime=t)}toggleEditMode(e){this.inEditMode=e}selectAll(){this.selectedMedia=this.filteredSortedMedia().map(e=>e.id)}onMediaSelected(e,t){t.target.checked?this.selectedMedia.push(e.id):this.selectedMedia=this.selectedMedia.filter(l=>l!==e.id)}openProfileSelectDialog(){let e=this.viewContainerRef.createComponent(ue);e.instance.onSubmit.subscribe(t=>{this.batchUpdate("download",t),e.destroy()}),e.instance.onClosed.subscribe(()=>{e.destroy()})}batchUpdate(e,t=-1){this.webSocketService.showToast(`Batch update: ${e} ${this.selectedMedia.length} items`),this.mediaService.batchUpdate(this.selectedMedia,e,t).subscribe(()=>{this.fetchUpdatedMedia(!0)}),this.selectedMedia=[]}retrieveSortNFilterOptions(){let e=this.moviesOnly(),t=e==null?"AllMedia":e?"Movies":"Series";this.customfilterService.getViewFilters(e).subscribe(m=>{this.customFilters.set(m)});let i=localStorage.getItem(`Trailarr${t}Filter`);i&&this.selectedFilter.set(i);let l=localStorage.getItem(`Trailarr${t}Sort`),r=localStorage.getItem(`Trailarr${t}SortAscending`);l&&this.selectedSort.set(l),r&&this.sortAscending.set(r=="true")}setMediaSort(e){this.selectedMedia=[],this.displayCount.set(this.defaultDisplayCount),this.selectedSort()===e?this.sortAscending.set(!this.sortAscending()):(this.selectedSort.set(e),this.sortAscending.set(!0));let t=this.moviesOnly(),i=t==null?"AllMedia":t?"Movies":"Series";localStorage.setItem(`Trailarr${i}Sort`,this.selectedSort()),localStorage.setItem(`Trailarr${i}SortAscending`,this.sortAscending().toString())}setMediaFilter(e){this.selectedMedia=[],this.displayCount.set(this.defaultDisplayCount),this.selectedFilter.set(e);let t=this.moviesOnly(),i=t==null?"AllMedia":t?"Movies":"Series";localStorage.setItem(`Trailarr${i}Filter`,this.selectedFilter())}onNearEndScroll(){this.displayCount()>=this.filteredSortedMedia().length||this.displayCount.update(e=>e+this.defaultDisplayCount)}openFilterDialog(){this.customFilters().length===0?this.openFilterEditDialog(null):this.showFiltersDialog().nativeElement.showModal()}openFilterEditDialog(e){this.showFiltersDialog().nativeElement.close();let t=this.viewContainerRef.createComponent(he);t.setInput("customFilter",e),t.setInput("filterType",this.moviesOnly()==null?"HOME":this.moviesOnly()?"MOVIES":"SERIES"),t.instance.dialogClosed.subscribe(()=>{this.retrieveSortNFilterOptions(),t.destroy()})}deleteFilter(e){this.customfilterService.delete(e).subscribe(()=>{this.customFilters.update(t=>t.filter(i=>i.id!==e))})}closeFilterDialog(){this.showFiltersDialog().nativeElement.close(),this.retrieveSortNFilterOptions()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=j({type:n,selectors:[["app-media2"]],viewQuery:function(t,i){t&1&&J(i.showFiltersDialog,xe,5),t&2&&ee()},decls:21,vars:2,consts:[["mediaCard",""],["showFiltersDialog",""],["dialogContainer",""],[1,"media-header"],[1,"media-header","edit"],[1,"media-container"],[1,"center"],[3,"close"],[1,"dialog-content",3,"click"],[1,"dialog-title"],[1,"filteritem-dropdown-option"],[1,"buttons-row"],[1,"danger",3,"click"],[1,"primary",3,"click"],["aria-label","Edit","title","Edit",1,"media-header-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960",1,"button-icon"],["d","M640-160v-360H160v360h480Zm80-200v-80h80v-360H320v200h-80v-200q0-33 23.5-56.5T320-880h480q33 0 56.5 23.5T880-800v360q0 33-23.5 56.5T800-360h-80ZM160-80q-33 0-56.5-23.5T80-160v-360q0-33 23.5-56.5T160-600h480q33 0 56.5 23.5T720-520v360q0 33-23.5 56.5T640-80H160Zm400-603ZM400-340Z"],[1,"empty-space"],[1,"media-header-sortitem"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960",1,"icon"],["d","M74-159v-135h304v135H74Zm0-255v-134h558v134H74Zm0-254v-135h812v135H74Z"],[1,"sortitem-dropdown"],[1,"sortitem-dropdown-option"],[1,"media-header-filteritem"],["d","M371-158v-135h219v135H371ZM200-413v-135h558v135H200ZM74-668v-135h812v135H74Z"],[1,"filteritem-dropdown"],["aria-label","CustomFilters","title","Edit",1,"filteritem-dropdown-option",3,"click"],["d","M421-97v-248h83v83h353v83H504v82h-83Zm-318-82v-83h270v83H103Zm187-178v-82H103v-82h187v-84h83v248h-83Zm131-82v-82h436v82H421Zm166-176v-248h83v82h187v83H670v83h-83Zm-484-83v-83h436v83H103Z"],[1,"sortitem-dropdown-option",3,"click"],["d","M480-130 200-410l96-96 184 185 184-185 96 96-280 280Zm0-299L200-708l96-97 184 185 184-185 96 97-280 279Z"],["d","m296-155-96-97 280-279 280 279-96 97-184-185-184 185Zm0-299-96-96 280-280 280 280-96 96-184-185-184 185Z"],[1,"filteritem-dropdown-option",3,"click"],["d","M382-200 113-469l97-97 172 173 369-369 97 96-466 466Z"],["aria-label","Monitor","title","Monitor",1,"media-header-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-label","Monitor",1,"button-icon"],["d","M713-600 600-713l56-57 57 57 141-142 57 57-198 198ZM200-120v-640q0-33 23.5-56.5T280-840h280q-20 30-30 57.5T520-720q0 72 45.5 127T680-524q23 3 40 3t40-3v404L480-240 200-120Z"],["aria-label","UnMonitor","title","UnMonitor",1,"media-header-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-label","UnMonitor",1,"button-icon"],["d","M200-120v-640q0-33 23.5-56.5T280-840h240v80H280v518l200-86 200 86v-278h80v400L480-240 200-120Zm80-640h240-240Zm400 160v-80h-80v-80h80v-80h80v80h80v80h-80v80h-80Z"],["aria-label","Download","title","Download",1,"media-header-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-label","Download",1,"button-icon"],["d","M480-320 280-520l56-58 104 104v-326h80v326l104-104 56 58-200 200ZM240-160q-33 0-56.5-23.5T160-240v-120h80v120h480v-120h80v120q0 33-23.5 56.5T720-160H240Z"],["aria-label","Delete","title","Delete",1,"media-header-button","delete",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-label","Delete",1,"button-icon"],["d","M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"],["aria-label","Cancel","title","Cancel",1,"media-header-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-label","Cancel",1,"button-icon"],["d","M819-28 407-440H160v280h480v-161l80 80v81q0 33-23.5 56.5T640-80H160q-33 0-56.5-23.5T80-160v-360q0-33 23.5-56.5T160-600h80v-7L27-820l57-57L876-85l-57 57Zm-99-327-80-80-165-165h165q33 0 56.5 23.5T720-520v80h80v-280H355L246-829q8-23 28.5-37t45.5-14h480q33 0 56.5 23.5T880-800v360q0 33-23.5 56.5T800-360h-80v5Z"],[1,"count"],["aria-label","Select All","title","Select All",1,"media-header-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-label","Clear",1,"button-icon"],["d","M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q8 0 15 1.5t14 4.5l-74 74H200v560h560v-266l80-80v346q0 33-23.5 56.5T760-120H200Zm261-160L235-506l56-56 170 170 367-367 57 55-424 424Z"],["aria-label","Clear","title","Clear",1,"media-header-button",3,"click"],["d","m500-120-56-56 142-142-142-142 56-56 142 142 142-142 56 56-142 142 142 142-56 56-142-142-142 142Zm-220 0v-80h80v80h-80Zm-80-640h-80q0-33 23.5-56.5T200-840v80Zm80 0v-80h80v80h-80Zm160 0v-80h80v80h-80Zm160 0v-80h80v80h-80Zm160 0v-80q33 0 56.5 23.5T840-760h-80ZM200-200v80q-33 0-56.5-23.5T120-200h80Zm-80-80v-80h80v80h-80Zm0-160v-80h80v80h-80Zm0-160v-80h80v80h-80Zm640 0v-80h80v80h-80Z"],["appScrollNearEnd","",1,"media-row",3,"nearEnd"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960",1,"empty-icon"],["d","M215.38-160q-23.05 0-39.22-16.16Q160-192.33 160-215.38v-529.24q0-23.05 16.16-39.22Q192.33-800 215.38-800h529.24q23.05 0 39.22 16.16Q800-767.67 800-744.62V-418q-7.33-4.55-15.4-7.82-8.08-3.27-15.37-6.8v-185.84H495.38v201.61q-10.84 6.39-22.26 13.54-11.43 7.16-21.89 14.85H190.77v173.08q0 10.76 6.92 17.69 6.93 6.92 17.69 6.92h128.16q6.15 8.54 12.42 16.12 6.27 7.57 12.66 14.65H215.38Zm-24.61-259.23h273.85v-199.23H190.77v199.23Zm0-230h578.46v-95.39q0-10.76-6.92-17.69-6.93-6.92-17.69-6.92H215.38q-10.76 0-17.69 6.92-6.92 6.93-6.92 17.69v95.39ZM480-480Zm0 0Zm0 0Zm0 0ZM650.37-98.46q-71.22 0-131.91-36.54t-97.23-97.31q36.54-60.77 97.23-97.31 60.69-36.53 132.16-36.53 71.46 0 131.76 36.53 60.31 36.54 97.62 97.81-36.08 61.27-97.25 97.31T650.37-98.46Zm.25-30.77q57.76 0 108.07-28.35 50.31-28.34 85.08-74.73-34.77-46.38-84.9-74.73-50.12-28.34-108.64-28.34-57.38 0-108.08 28.34-50.69 28.35-84.69 74.73 34 46.39 84.69 74.73 50.7 28.35 108.47 28.35Zm-.12-67.69q-15.12 0-25.38-10.44-10.27-10.43-10.27-25.11t10.42-24.95q10.41-10.27 25.08-10.27 15.5 0 25.38 10.43 9.89 10.43 9.89 25.12 0 14.68-10.01 24.95-10 10.27-25.11 10.27Z"],[1,"media-card",3,"title"],[1,"media-card",3,"routerLink","title","id"],["type","checkbox",1,"media-card-checkbox",3,"click","change","id","checked"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"for"],["loading","lazy",3,"load","error","id","src","alt"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-label","Downloading",1,"monitored-icon"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-label","Monitored",1,"monitored-icon"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-label","Trailer Exists",1,"downloaded-icon",3,"success"],["transform","scale(0.9) translate(65,-60)"],["d","M343 -107q-120 -42 -194.5 -146.5T74 -490q0 -29 4 -57.5T91 -604l-57 33 -37 -62 185 -107 106 184 -63 36 -54 -92q-13 30 -18.5 60.5T147 -490q0 113 65.5 200T381 -171zm291 -516v-73h107q-47 -60 -115.5 -93.5T480 -823q-66 0 -123.5 24T255 -734l-38 -65q54 -45 121 -71t142 -26q85 0 160.5 33T774 -769v-67h73v213zM598 -1 413 -107l107 -184 62 37 -54 94q123 -17 204.5 -110.5T814 -489q0 -19 -2.5 -37.5T805 -563h74q4 18 6 36.5t2 36.5q0 142 -87 251.5T578 -96l56 33z"],["attributeName","transform","type","rotate","from","0 470 -480","to","360 470 -480","dur","5","repeatCount","indefinite"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-label","Trailer Exists",1,"downloaded-icon"],["d","M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q65 0 123 19t107 53l-58 59q-38-24-81-37.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160q133 0 226.5-93.5T800-480q0-18-2-36t-6-35l65-65q11 32 17 66t6 70q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm-56-216L254-466l56-56 114 114 400-401 56 56-456 457Z"],["title","Edit Custom Filter",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-label","Delete","title","Delete Custom Filter",1,"icon","delete-icon",3,"click"]],template:function(t,i){if(t&1){let l=M();f(0,Fe,30,6,"div",3)(1,ke,39,2,"div",4),o(2,"div",5),f(3,Ve,1,0,"app-load-indicator",6)(4,Ie,4,1),a(),f(5,Re,7,9,"ng-template",null,0,te),o(7,"dialog",7,1),h("close",function(){return p(l),_(i.closeFilterDialog())}),o(9,"div",8),h("click",function(m){return p(l),_(m.stopPropagation())}),o(10,"div",9),g(11,"Custom Filters"),a(),V(12,Ge,5,1,"div",10,k),a(),o(14,"div",11)(15,"button",12),h("click",function(){return p(l),_(i.closeFilterDialog())}),g(16,"Cancel"),a(),o(17,"button",13),h("click",function(){return p(l),_(i.openFilterEditDialog(null))}),g(18,"Add New"),a()()(),c(19,"template",null,2)}t&2&&(S(i.inEditMode?1:0),u(3),S(i.isLoading()?3:4),u(9),D(i.customFilters()))},dependencies:[re,ie,_e,oe,ve,fe],styles:['.media-header[_ngcontent-%COMP%]{display:flex;position:sticky;top:76px;width:100%;justify-content:flex-end;background-color:var(--color-surface-container-high);color:var(--color-on-surface);align-items:center;padding:0 1rem;z-index:99}@media (width < 765px){.media-header[_ngcontent-%COMP%]{position:fixed;inset:auto 0 78px}}.media-header[_ngcontent-%COMP%]   .empty-space[_ngcontent-%COMP%]{flex:1;margin:auto}.edit[_ngcontent-%COMP%]{justify-content:flex-start;gap:1rem}@media (width < 765px){.edit[_ngcontent-%COMP%]{gap:.5rem}}.edit[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-weight:700;color:var(--color-primary)}@media (width < 765px){.edit[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}.media-header-button[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;cursor:pointer;padding:.75rem 0}.media-header-button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{width:2.25rem;height:2.25rem;font-size:0;margin:0;padding:.25rem;fill:var(--color-on-surface)}@media (width < 765px){.media-header-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}.media-header-button[_ngcontent-%COMP%]:hover:not(.delete){color:var(--color-primary)}.media-header-button[_ngcontent-%COMP%]:hover:not(.delete)   svg[_ngcontent-%COMP%]{fill:var(--color-primary)!important}.delete[_ngcontent-%COMP%]{color:var(--color-error)}.delete[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--color-error)!important}.media-header-sortitem[_ngcontent-%COMP%], .media-header-filteritem[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:nowrap;align-items:center;justify-content:flex-start;cursor:pointer;font-weight:700;padding:1rem;gap:.5rem}.icon[_ngcontent-%COMP%]{margin:0}.empty-icon[_ngcontent-%COMP%]{width:100%;height:clamp(10rem,25vh,30rem);fill:var(--color-on-surface)}.media-header-sortitem[_ngcontent-%COMP%]:hover, .media-header-filteritem[_ngcontent-%COMP%]:hover, .media-header-button[_ngcontent-%COMP%]:hover{background-color:var(--color-surface-container-highest)}.sortitem-dropdown[_ngcontent-%COMP%], .filteritem-dropdown[_ngcontent-%COMP%]{display:none;position:absolute;min-width:8rem;top:3.5rem;right:0;background-color:var(--color-surface-container-highest);z-index:100;box-shadow:.5rem 1rem 1rem 0 var(--color-shadow)}@media (width < 765px){.sortitem-dropdown[_ngcontent-%COMP%], .filteritem-dropdown[_ngcontent-%COMP%]{top:auto;bottom:3.5rem;box-shadow:.5rem -1rem 1rem 0 var(--color-shadow)}}.filteritem-dropdown[_ngcontent-%COMP%]{min-width:11rem}.media-header-sortitem[_ngcontent-%COMP%]:hover   .sortitem-dropdown[_ngcontent-%COMP%], .media-header-filteritem[_ngcontent-%COMP%]:hover   .filteritem-dropdown[_ngcontent-%COMP%]{display:flex;flex-direction:column}.sortitem-dropdown-option[_ngcontent-%COMP%], .filteritem-dropdown-option[_ngcontent-%COMP%]{display:flex;cursor:pointer;align-items:center;justify-content:space-between;gap:.5rem;font-weight:400;height:2.75rem;padding:.5rem .25rem .5rem .75rem}.sortitem-dropdown-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .filteritem-dropdown-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:left;flex:1}.sortitem-dropdown-option[_ngcontent-%COMP%]:hover, .filteritem-dropdown-option[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary-container);color:var(--color-primary)}.media-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-y:auto}@media (width < 765px){.media-container[_ngcontent-%COMP%]{margin-bottom:80px}}.text-center[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{margin:auto;align-content:center;min-height:70vh}.media-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(min(180px,100%),1fr));gap:1rem;padding:1rem}@media (width < 900px){.media-row[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(min(120px,100%),1fr));gap:.5rem;padding:.5rem}}.media-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;transition:all .4s;border-radius:10px;cursor:pointer;position:relative;overflow:hidden;background-image:url("./media/poster-sm-XZCQRTNE.png");background-repeat:no-repeat;background-size:cover}.media-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-direction:column}.media-card-checkbox[_ngcontent-%COMP%]{position:absolute;top:.5rem;left:.5rem;width:1.5rem;height:1.5rem;background-color:var(--color-surface-container-high);outline:2px solid var(--color-primary)}@media (width < 765px){.media-card-checkbox[_ngcontent-%COMP%]{top:.25rem;left:.25rem;width:1rem;height:1rem}}.media-card-checkbox[_ngcontent-%COMP%]:checked{outline:none;accent-color:var(--color-primary)}.media-card-checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{border:4px solid var(--color-primary);border-radius:10px}.media-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;text-align:center;background-color:var(--color-surface-container-high);color:var(--color-primary);padding:.5rem 0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;border-radius:0 0 6px 6px}.animated-gradient[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_animateBg 2s linear infinite;background-image:linear-gradient(135deg,var(--color-surface-container-highest),var(--color-surface-container-low),var(--color-surface-container-highest),var(--color-surface-container-low));background-size:100% 450%}@keyframes _ngcontent-%COMP%_animateBg{0%{background-position:0% 100%}to{background-position:0% 0%}}.media-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;overflow:hidden;width:100%;aspect-ratio:2/3;border-radius:6px 6px 0 0}.media-card[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;top:5px;height:24px;width:24px}.media-card[_ngcontent-%COMP%]   .monitored-icon[_ngcontent-%COMP%], .media-card[_ngcontent-%COMP%]   .downloaded-icon[_ngcontent-%COMP%]{fill:var(--color-info);right:5px}.media-card[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{fill:var(--color-success)}.media-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{display:none}.media-card[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px 5px var(--color-outline)}.dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1rem;min-width:max(25vw,min(300px,80vw))}.dialog-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-outline)}.dialog-title[_ngcontent-%COMP%]{font-size:larger;font-weight:700;border-bottom:none!important;padding-bottom:.5rem;margin:1rem}.delete-icon[_ngcontent-%COMP%]{fill:var(--color-error);width:2rem;height:2rem}.buttons-row[_ngcontent-%COMP%]{display:block flex;align-items:center;justify-content:space-around;padding:1rem 0}']})}}return n})();var ut=[{path:"",loadComponent:()=>we}];export{ut as default};
