import{a as Me}from"./chunk-ELPDPCOI.js";import{a as ve,c as he,d as Y}from"./chunk-VTKFMGSR.js";import{a as Se,b as be}from"./chunk-6TIKEJF3.js";import"./chunk-OPUZ75K4.js";import{k as we}from"./chunk-RXWHTZZW.js";import{a as J}from"./chunk-LTSMKAU7.js";import{N as W,f as Ce,h as fe,k as xe,q as U,s as $,w as A}from"./chunk-BFYQZYXD.js";import{a as K}from"./chunk-FSXPERLQ.js";import{$b as le,Ab as z,Bb as I,Da as V,Db as a,Eb as x,Fb as k,G as ee,Gb as ne,Ha as r,Hb as me,Ib as _e,Jb as pe,Kb as N,Lb as G,Mb as M,Na as re,Nb as oe,Ob as Q,Qa as Z,Qb as ae,Ta as de,Tb as L,Ub as q,Va as R,Wb as ge,_b as E,ac as ue,ca as P,db as g,dc as j,eb as u,fb as ce,gb as se,hb as H,ia as _,ib as B,ja as p,jb as h,ka as w,kb as t,la as F,lb as n,mb as C,nb as te,ob as S,r as X,ra as O,rb as f,sb as m,ub as T,vb as D,wb as y,zb as ie}from"./chunk-IZTUW6FH.js";var De=(()=>{let l=class l{transform(i){return ve(i)}};l.\u0275fac=function(d){return new(d||l)},l.\u0275pipe=de({name:"durationConvert",type:l,pure:!0});let e=l;return e})();var Ee=["optionsDialog"],Fe=["textDialog"],Ve=["videoDialog"],Ie=["videoDialogContent"],Le=["videoInfoDialog"],qe=["renameDialog"],Qe=["deleteFileDialog"],ye=e=>({folderUntyped:e}),Ze=(e,l)=>l.index;function Re(e,l){e&1&&C(0,"app-load-indicator",11)}function He(e,l){if(e&1&&(t(0,"p",33),a(1),n()),e&2){let o=m(2);r(),k("Error: ",o.filesError())}}function Be(e,l){e&1&&te(0)}function ze(e,l){if(e&1&&(t(0,"div",34),C(1,"div"),t(2,"div"),a(3,"Name"),n(),t(4,"div"),a(5,"Size"),n(),t(6,"div"),a(7,"Modified"),n()(),R(8,Be,1,0,"ng-container",35)),e&2){let o=m(2),i=ie(7);r(8),h("ngTemplateOutlet",i)("ngTemplateOutletContext",ae(2,ye,o.filesResource.value()))}}function Ne(e,l){if(e&1&&(t(0,"div",12),g(1,He,2,1,"p",33)(2,ze,9,4),n()),e&2){let o=m();r(),u(o.filesResource.error()?1:2)}}function Ge(e,l){e&1&&(w(),t(0,"svg",16),C(1,"path",43),n())}function je(e,l){e&1&&(w(),t(0,"svg",16),C(1,"path",44),n())}function Ue(e,l){if(e&1&&g(0,Ge,2,0,":svg:svg",16)(1,je,2,0,":svg:svg",16),e&2){m();let o=M(0);u(o.isExpanded?0:1)}}function $e(e,l){e&1&&(w(),t(0,"svg",16),C(1,"path",45),n())}function Ae(e,l){e&1&&te(0)}function We(e,l){if(e&1&&R(0,Ae,1,0,"ng-container",35),e&2){let o=l.$implicit;m(4);let i=ie(7);h("ngTemplateOutlet",i)("ngTemplateOutletContext",ae(2,ye,o))}}function Ye(e,l){if(e&1&&H(0,We,1,4,"ng-container",null,se),e&2){m(2);let o=M(0);B(o.files)}}function Je(e,l){if(e&1&&(t(0,"div",42),g(1,Ye,2,0),n()),e&2){m();let o=M(0);r(),u(o.isExpanded?1:-1)}}function Ke(e,l){if(e&1){let o=S();N(0),t(1,"div",36)(2,"div",37),f("click",function(){_(o);let d=M(0),c=m();return p(c.openFolderOrOptions(d))}),t(3,"div",38),g(4,Ue,2,1)(5,$e,2,0,":svg:svg",16),n(),t(6,"div",39),a(7),n(),t(8,"div",40),a(9),n(),t(10,"div",41),a(11),L(12,"date"),n()(),g(13,Je,2,1,"div",42),n()}if(e&2){let o=l.folderUntyped,i=G(m().asFolderInfo(o));r(2),z("parent",i.type=="folder"),r(2),u(i.type==="folder"?4:5),r(3),x(i.name),r(2),x(i.size),r(2),x(q(12,8,i.modified)),r(2),u(i.type==="folder"?13:-1)}}function Xe(e,l){if(e&1){let o=S();t(0,"div",46),f("click",function(){_(o);let d=m();return d.closeOptionsDialog(),p(d.openVideoDialog())}),t(1,"span"),w(),t(2,"svg",16),C(3,"path",47),n()(),F(),t(4,"span"),a(5,"Play Video"),n()(),t(6,"div",48),f("click",function(){_(o);let d=m();return d.closeOptionsDialog(),p(d.openVideoInfoDialog())}),t(7,"span"),w(),t(8,"svg",16),C(9,"path",49),n()(),F(),t(10,"span"),a(11,"Video Info"),n()()}}function et(e,l){if(e&1){let o=S();t(0,"div",51),f("click",function(){_(o);let d=m(2);return d.closeOptionsDialog(),p(d.openTextDialog())}),t(1,"span"),w(),t(2,"svg",16),C(3,"path",52),n()(),F(),t(4,"span"),a(5,"View Text"),n()()}}function tt(e,l){if(e&1&&g(0,et,6,0,"div",50),e&2){let o=m();u(o.isTextFile()?0:-1)}}function it(e,l){e&1&&C(0,"app-load-indicator",11)}function nt(e,l){if(e&1&&(a(0,`
          `),a(1,`
          `),t(2,"code"),a(3),n(),a(4,`
        `)),e&2){let o=l.$implicit;r(3),x(o)}}function ot(e,l){if(e&1){let o=S();t(0,"div",53),f("click",function(d){return _(o),p(d.stopPropagation())}),t(1,"h2"),a(2),n(),t(3,"div",54)(4,"pre"),a(5,"        "),H(6,nt,5,1,null,null,ce),n()(),t(8,"div",27)(9,"button",29),f("click",function(){_(o);let d=m();return p(d.closeTextDialog())}),a(10,"Close"),n()()()}if(e&2){let o=m();r(2),x(o.selectedFileName()),r(4),B(o.selectedFileText())}}function at(e,l){e&1&&C(0,"app-load-indicator",11)}function lt(e,l){if(e&1&&(t(0,"div",57)(1,"span"),a(2,"Audio Tracks"),n(),t(3,"code"),a(4),n()()),e&2){let o=m(3);r(4),x(o.audioTracks())}}function rt(e,l){if(e&1&&(t(0,"div",57)(1,"span"),a(2,"Subtitles"),n(),t(3,"code"),a(4),n()()),e&2){let o=m(3);r(4),x(o.subtitleTracks())}}function dt(e,l){if(e&1&&(t(0,"div",57)(1,"span"),a(2,"Codec"),n(),t(3,"code"),a(4),n()()),e&2){let o=m().$implicit;r(4),x(o.codec_name)}}function ct(e,l){if(e&1&&(t(0,"div",57)(1,"span"),a(2,"Language"),n(),t(3,"code"),a(4),n()()),e&2){let o=m().$implicit;r(4),x(o.language)}}function st(e,l){if(e&1&&(t(0,"div",57)(1,"span"),a(2,"Display Dimensions"),n(),t(3,"code"),a(4),n()()),e&2){let o=m().$implicit;r(4),ne("",o.coded_width,"x",o.coded_height)}}function mt(e,l){if(e&1&&(t(0,"div",57)(1,"span"),a(2,"Audio Channels"),n(),t(3,"code"),a(4),n()()),e&2){let o=m().$implicit;r(4),x(o.audio_channels)}}function _t(e,l){if(e&1&&(t(0,"div",57)(1,"span"),a(2,"Audio Frequency"),n(),t(3,"code"),a(4),n()()),e&2){let o=m().$implicit;r(4),x(o.sample_rate)}}function pt(e,l){if(e&1&&(t(0,"section")(1,"h2"),a(2),n(),C(3,"hr"),g(4,dt,5,1,"div",57),g(5,ct,5,1,"div",57),g(6,st,5,2,"div",57),g(7,mt,5,1,"div",57),g(8,_t,5,1,"div",57),n()),e&2){let o=l.$implicit;r(2),ne("Track ",o.index,": ",o.codec_type),r(2),u(o.codec_name?4:-1),r(),u(o.language?5:-1),r(),u(o.coded_height&&o.coded_width?6:-1),r(),u(o.audio_channels?7:-1),r(),u(o.sample_rate?8:-1)}}function gt(e,l){if(e&1&&(t(0,"section",56)(1,"h2"),a(2,"File Info"),n(),C(3,"hr"),t(4,"div",57)(5,"span"),a(6,"File Name"),n(),t(7,"code"),a(8),n()(),t(9,"div",57)(10,"span"),a(11,"Format"),n(),t(12,"code"),a(13),n()(),t(14,"div",57)(15,"span"),a(16,"Bitrate"),n(),t(17,"code"),a(18),n()(),t(19,"div",57)(20,"span"),a(21,"Duration"),n(),t(22,"code"),a(23),n()(),g(24,lt,5,1,"div",57),g(25,rt,5,1,"div",57),n(),H(26,pt,9,7,"section",null,Ze)),e&2){let o=l,i=m(2);r(8),x(o.name),r(5),x(o.format_name),r(5),x(o.bitrate),r(5),x(o.duration),r(),u(i.audioTracks().length>0?24:-1),r(),u(i.subtitleTracks().length>0?25:-1),r(),B(o.streams)}}function ut(e,l){e&1&&(t(0,"h2"),a(1,"Video Info"),n(),C(2,"hr"),t(3,"code",58),a(4," Unable to fetch video info. "),n())}function Ct(e,l){if(e&1){let o=S();t(0,"div",24)(1,"h1"),a(2,"Video Properties"),n(),t(3,"div",55),f("click",function(d){return _(o),p(d.stopPropagation())}),g(4,gt,28,6)(5,ut,5,0),n(),t(6,"div",27)(7,"button",29),f("click",function(){_(o);let d=m();return p(d.closeVideoInfoDialog())}),a(8,"Close"),n()()()}if(e&2){let o,i=m();r(4),u((o=i.videoInfo())?4:5,o)}}var ke=(()=>{let l=class l{constructor(){this.filesService=P(we),this.mediaService=P(Y),this.webSocketService=P(J),this.mediaId=j.required(),this.textFileLoading=O(!0),this.videoInfoLoading=O(!0),this.selectedFilePath="",this.selectedFileName=O(""),this.videoInfo=O(null),this.selectedFileText=O([],{equal:he}),this.audioTracks=E(()=>(this.videoInfo()?.streams??[]).filter(i=>i.codec_type.includes("audio")).map(i=>`${i.language||"unk"} (${i.codec_name})`).join(", ")),this.subtitleTracks=E(()=>(this.videoInfo()?.streams??[]).filter(i=>i.codec_type.includes("subtitle")).map(i=>`${i.language||"unk"} (${i.codec_name})`).join(", ")),this.filesResource=ue({params:()=>({mediaId:this.mediaId()}),loader:({params:{mediaId:i}})=>this.mediaService.fetchMediaFiles(i)}),this.filesError=E(()=>{let i=this.filesResource.error();return i?i.cause?.error.detail||"Error fetching media files.":""}),this.isTextFile=E(()=>[".txt",".srt",".log",".json",".py",".sh"].some(i=>this.selectedFileName().endsWith(i))),this.isVideoFile=E(()=>[".mp4",".mkv",".avi",".webm"].some(i=>this.selectedFileName().endsWith(i)))}asFolderInfo(i){return i}openFolderOrOptions(i){i.type==="folder"?i.isExpanded=!i.isExpanded:(this.selectedFilePath=i.path,this.selectedFileName.set(i.name),this.openOptionsDialog())}renameFile(){this.closeRenameDialog();let d=this.selectedFilePath.split("/").slice(0,-1).join("/")+"/"+this.selectedFileName();this.filesService.renameFileFolApiV1FilesRenamePost({old_path:this.selectedFilePath,new_path:d}).subscribe(c=>{let s="";c?s="File renamed successfully!":s="Failed to rename file!",this.webSocketService.showToast(s,c?"success":"error"),this.filesResource.reload()})}deleteFile(){this.closeDeleteFileDialog(),this.filesService.deleteFileFolApiV1FilesDeleteDelete({path:this.selectedFilePath,media_id:this.mediaId()}).subscribe(i=>{let d="";i?d="Deleted successfully!":d="Failed to delete!",this.webSocketService.showToast(d,i?"success":"error"),this.filesResource.reload()})}openOptionsDialog(){this.optionsDialog.nativeElement.showModal()}closeOptionsDialog(){this.optionsDialog.nativeElement.close()}openTextDialog(){this.closeOptionsDialog(),this.textFileLoading.set(!0),this.selectedFileText.set([]),this.textDialog.nativeElement.showModal(),this.filesService.readFileApiV1FilesReadGet({file_path:this.selectedFilePath}).subscribe({next:i=>this.selectedFileText.set(i.split(`
`)),complete:()=>this.textFileLoading.set(!1),error:()=>this.textFileLoading.set(!1)})}closeTextDialog(){this.textDialog.nativeElement.close()}openVideoDialog(){this.videoDialog.nativeElement.showModal();let d=`
      <style>
        video {
          width: 75vw;
          height: auto;
        }
        @media (max-width: 768px) {
          video {
            width: 100%;
          }
        }
      </style>
      <video controls controlsList="nodownload">
        <source src="${`/api/v1/files/video?file_path=${encodeURIComponent(this.selectedFilePath)}`}" type="video/mp4">
        Your browser does not support the video tag.</source>
      </video>`;this.videoDialogContent.nativeElement.innerHTML=d}closeVideoDialog(){this.videoDialogContent.nativeElement.innerHTML="",this.videoDialog.nativeElement.close()}openVideoInfoDialog(){this.videoInfoLoading.set(!0),this.videoInfoDialog.nativeElement.showModal(),this.filesService.getVideoInfoApiV1FilesVideoInfoGet({file_path:this.selectedFilePath}).subscribe({next:i=>{this.videoInfo.set(i)},complete:()=>this.videoInfoLoading.set(!1),error:()=>this.videoInfoLoading.set(!1)})}closeVideoInfoDialog(){this.videoInfoDialog.nativeElement.close(),this.videoInfo.set(null)}openRenameDialog(){this.closeOptionsDialog(),this.renameDialog.nativeElement.showModal()}closeRenameDialog(){this.renameDialog.nativeElement.close()}openDeleteFileDialog(){this.closeOptionsDialog(),this.deleteFileDialog.nativeElement.showModal()}closeDeleteFileDialog(){this.deleteFileDialog.nativeElement.close()}};l.\u0275fac=function(d){return new(d||l)},l.\u0275cmp=Z({type:l,selectors:[["media-files"]],viewQuery:function(d,c){if(d&1&&(T(Ee,5),T(Fe,5),T(Ve,5),T(Ie,5),T(Le,5),T(qe,5),T(Qe,5)),d&2){let s;D(s=y())&&(c.optionsDialog=s.first),D(s=y())&&(c.textDialog=s.first),D(s=y())&&(c.videoDialog=s.first),D(s=y())&&(c.videoDialogContent=s.first),D(s=y())&&(c.videoInfoDialog=s.first),D(s=y())&&(c.renameDialog=s.first),D(s=y())&&(c.deleteFileDialog=s.first)}},inputs:{mediaId:[1,"mediaId"]},decls:69,vars:6,consts:[["folFileTemplate",""],["optionsDialog",""],["optionsDialogContent",""],["textDialog",""],["videoDialog",""],["videoDialogContent",""],["videoInfoDialog",""],["renameDialog",""],["deleteFileDialog",""],[1,"media-files-container"],[1,"text-md","files-title"],[1,"center"],[1,"media-files"],[3,"click"],[1,"dialog-content",3,"click"],[1,"close",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960"],["d","m249-186-63-63 231-231-231-230 63-64 231 230 231-230 63 64-230 230 230 231-63 63-231-230-231 230Z"],[1,"dialog-options"],["title","Rename",1,"icon-link",3,"click"],["d","M81-5v-138h798V-5H81Zm150-327h30l371-371-13.35-15.86L604-733 231-362v30Zm-68 69v-126l486-488q10-9 23.11-14.5 13.12-5.5 26-5.5 12.89 0 25.89 5.75T748-876l28 25q12 10 17 23.99 5 13.99 5 26.52 0 13.17-5.46 26.76Q787.09-760.14 777-751L288-263H163Zm563-538-27-27 27 27Zm-94 98-13.35-15.86L604-733l28 30Z"],["title","Delete",1,"icon-link","danger-option",3,"click"],["d","M253-99q-38.21 0-65.11-26.6Q161-152.2 161-190v-552h-58v-91h228v-47h297v47h228v91h-58v552q0 37.18-27.21 64.09Q743.59-99 706-99H253Zm453-643H253v552h453v-552ZM357-268h74v-398h-74v398Zm173 0h75v-398h-75v398ZM253-742v552-552Z"],[1,"text-dialog"],[1,"info-dialog"],[1,"rename-dialog",3,"click"],["id","rename-file","type","text","placeholder","New Name",1,"rename-input",3,"ngModelChange","ngModel"],[1,"buttons-row"],[1,"primary",3,"click"],[1,"tertiary",3,"click"],["id","deleteFileDialog",3,"click"],[1,"delete-dialog",3,"click"],[1,"danger",3,"click"],[1,"text-sm","text-center"],[1,"files-header","sm-none","text-sm"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"files-accordion"],[1,"files-header",3,"click"],[1,"files-icon"],[1,"files-name"],[1,"files-size"],[1,"files-modified"],[1,"child"],["d","M146.67-160q-26.34 0-46.5-20.17Q80-200.33 80-226.67v-506.66q0-26.34 20.17-46.5Q120.33-800 146.67-800H414l66.67 66.67h332.66q26.34 0 46.5 20.16Q880-693 880-666.67H146.67v440l100-373.33H940L834.33-209.67q-6.66 24.67-24.5 37.17Q792-160 766.67-160h-620Z"],["d","M146.67-160q-27 0-46.84-20.17Q80-200.33 80-226.67v-506.66q0-26.34 19.83-46.5Q119.67-800 146.67-800H414l66.67 66.67h332.66q26.34 0 46.5 20.16Q880-693 880-666.67v440q0 26.34-20.17 46.5Q839.67-160 813.33-160H146.67Z"],["d","M319.33-246.67h321.34v-66.66H319.33v66.66Zm0-166.66h321.34V-480H319.33v66.67ZM226.67-80q-27 0-46.84-19.83Q160-119.67 160-146.67v-666.66q0-27 19.83-46.84Q199.67-880 226.67-880H574l226 226v507.33q0 27-19.83 46.84Q760.33-80 733.33-80H226.67Zm314-542.67h192.66L540.67-813.33v190.66Z"],["title","Play Video",1,"icon-link",3,"click"],["d","M320-203v-560l440 280-440 280Zm60-280Zm0 171 269-171-269-171v342Z"],["title","Video Info",1,"icon-link",3,"click"],["d","M447-272h73v-248h-73v248Zm32.89-330Q496-602 507-612.59q11-10.58 11-26.23 0-17.63-10.87-28.4Q496.26-678 480.19-678q-17.19 0-27.69 10.6T442-639.68q0 16.28 10.89 26.98 10.9 10.7 27 10.7Zm-.08 538q-85.92 0-161.52-33.02-75.61-33.02-131.93-89.34-56.32-56.32-89.34-132.13T64-480.5q0-86.09 33.08-161.81t89.68-132.31q56.61-56.59 132.06-88.99Q394.27-896 480.06-896q86.15 0 162.17 32.39 76.02 32.4 132.4 89Q831-718 863.5-641.96 896-565.92 896-479.72q0 86.19-32.39 161.29-32.4 75.11-88.99 131.51Q718.03-130.53 642-97.26 565.98-64 479.81-64Zm.69-73q142.01 0 242.26-100.74Q823-338.49 823-480.5T722.94-722.76Q622.89-823 480-823q-141.51 0-242.26 100.06Q137-622.89 137-480q0 141.51 100.74 242.26Q338.49-137 480.5-137Zm-.5-343Z"],["title","View Text",1,"icon-link"],["title","View Text",1,"icon-link",3,"click"],["d","M321-250h318v-69H321v69Zm0-169h319v-68H321v68ZM229-59q-35.78 0-63.39-26.91Q138-112.83 138-150v-660q0-37.59 27.61-64.79Q193.22-902 229-902h364l230 228v524q0 37.17-27.91 64.09Q767.19-59 731-59H229Zm316-569v-182H229v660h502v-478H545ZM229-810v182-182 660-660Z"],[1,"text-dialog",3,"click"],[1,"text-content"],[1,"info-container",3,"click"],["open",""],[1,"info-content"],[1,"video-info"]],template:function(d,c){if(d&1){let s=S();t(0,"div",9)(1,"p",10),a(2,"Files"),n(),C(3,"hr"),g(4,Re,1,0,"app-load-indicator",11)(5,Ne,3,1,"div",12),n(),R(6,Ke,14,10,"ng-template",null,0,ge),t(8,"dialog",13,1),f("click",function(){return _(s),p(c.closeOptionsDialog())}),t(10,"div",14,2),f("click",function(b){return _(s),p(b.stopPropagation())}),t(12,"h2"),a(13,"Options"),n(),t(14,"i",15),f("click",function(){return _(s),p(c.closeOptionsDialog())}),w(),t(15,"svg",16),C(16,"path",17),n()(),F(),t(17,"div",18),g(18,Xe,12,0)(19,tt,1,1),t(20,"div",19),f("click",function(){return _(s),p(c.openRenameDialog())}),t(21,"span"),w(),t(22,"svg",16),C(23,"path",20),n()(),F(),t(24,"span"),a(25,"Rename"),n()(),t(26,"div",21),f("click",function(){return _(s),p(c.openDeleteFileDialog())}),t(27,"span"),w(),t(28,"svg",16),C(29,"path",22),n()(),F(),t(30,"span"),a(31,"Delete"),n()()()()(),t(32,"dialog",13,3),f("click",function(){return _(s),p(c.closeTextDialog())}),g(34,it,1,0,"app-load-indicator",11)(35,ot,11,1,"div",23),n(),t(36,"dialog",13,4),f("click",function(){return _(s),p(c.closeVideoDialog())}),t(38,"div",13,5),f("click",function(b){return _(s),p(b.stopPropagation())}),n()(),t(40,"dialog",13,6),f("click",function(){return _(s),p(c.closeVideoInfoDialog())}),g(42,at,1,0,"app-load-indicator",11)(43,Ct,9,1,"div",24),n(),t(44,"dialog",13,7),f("click",function(){return _(s),p(c.closeRenameDialog())}),t(46,"div",25),f("click",function(b){return _(s),p(b.stopPropagation())}),t(47,"h2"),a(48,"Rename"),n(),t(49,"input",26),f("ngModelChange",function(b){return _(s),p(c.selectedFileName.set(b))}),n(),t(50,"div",27)(51,"button",28),f("click",function(){return _(s),p(c.renameFile())}),a(52,"Rename"),n(),t(53,"button",29),f("click",function(){return _(s),p(c.closeRenameDialog())}),a(54,"Cancel"),n()()()(),t(55,"dialog",30,8),f("click",function(){return _(s),p(c.closeDeleteFileDialog())}),t(57,"div",31),f("click",function(b){return _(s),p(b.stopPropagation())}),t(58,"h3"),a(59,"Confirm Delete"),n(),t(60,"code"),a(61),n(),t(62,"p"),a(63,"Are you sure you want to delete this file?"),n(),t(64,"div",27)(65,"button",32),f("click",function(){return _(s),p(c.deleteFile())}),a(66,"Confirm"),n(),t(67,"button",29),f("click",function(){return _(s),p(c.closeDeleteFileDialog())}),a(68,"Cancel"),n()()()()}d&2&&(r(4),u(c.filesResource.isLoading()?4:5),r(14),u(c.isVideoFile()?18:19),r(16),u(c.textFileLoading()?34:35),r(8),u(c.videoInfoLoading()?42:43),r(7),h("ngModel",c.selectedFileName()),r(12),x(c.selectedFileName()))},dependencies:[xe,W,U,$,A,K,Ce],styles:['[_nghost-%COMP%]{display:contents}.center[_ngcontent-%COMP%]{margin:auto}.text-center[_ngcontent-%COMP%]{text-align:center}.media-files-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:1rem}.media-files-container[_ngcontent-%COMP%]   .media-files[_ngcontent-%COMP%]{width:100%;display:block;border:1px solid var(--color-outline);border-radius:4px;background-color:var(--color-surface-container-high);color:var(--color-on-surface-variant);overflow-y:auto}.media-files-container[_ngcontent-%COMP%]   .files-title[_ngcontent-%COMP%]{margin:0;margin-block:0}.files-header[_ngcontent-%COMP%]{grid-row:1;display:grid;grid-template-columns:auto 6fr 1fr 2fr;gap:.5rem;align-items:center;text-align:center;padding:1rem;border:none;outline:none;transition:.4s;border-top:1px solid var(--color-outline);position:relative;font-size:.75rem}@media (max-width: 765px){.files-header[_ngcontent-%COMP%]{grid-template-columns:auto auto auto;grid-template-rows:1fr auto}}.files-header[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;top:50%;left:-1rem;width:1rem;height:1px;background-color:var(--color-outline)}.files-accordion[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-rows:1fr auto;border-left:1px solid var(--color-outline);position:relative}.files-accordion[_ngcontent-%COMP%]   .parent[_ngcontent-%COMP%]{cursor:pointer}.files-accordion[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{grid-row:2;padding:0 0 0 1rem;position:relative;cursor:pointer}.child[_ngcontent-%COMP%]   .files-accordion[_ngcontent-%COMP%]:last-child{border-bottom:1px solid var(--color-outline);margin-bottom:1rem}.files-header[_ngcontent-%COMP%]   .files-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}@media (max-width: 765px){.files-header[_ngcontent-%COMP%]   .files-icon[_ngcontent-%COMP%]{grid-row:1/span 2;grid-column:1;justify-self:center}}.files-header[_ngcontent-%COMP%]   .files-name[_ngcontent-%COMP%]{font-size:1rem;text-align:left;display:flex;align-items:center;gap:.25rem}@media (max-width: 765px){.files-header[_ngcontent-%COMP%]   .files-name[_ngcontent-%COMP%]{grid-row:1;grid-column:2/span 2;justify-self:start}}.files-header[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;fill:var(--color-on-surface)}@media (max-width: 765px){.files-header[_ngcontent-%COMP%]   .files-size[_ngcontent-%COMP%]{grid-row:2;grid-column:2;justify-self:start;margin-left:.25rem}.files-header[_ngcontent-%COMP%]   .files-modified[_ngcontent-%COMP%]{grid-row:2;grid-column:3;justify-self:end}}dialog[_ngcontent-%COMP%]   app-load-indicator[_ngcontent-%COMP%]{margin:4rem}.dialog-content[_ngcontent-%COMP%]{margin:1rem;position:relative}.dialog-header[_ngcontent-%COMP%]{position:relative}.dialog-content[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;border-radius:50%}.dialog-content[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:2rem;width:2rem;fill:var(--color-on-surface);padding:0}.dialog-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem}.icon-link[_ngcontent-%COMP%]{display:flex;align-items:center;text-decoration:none;transition:all .4s;cursor:pointer;padding:1rem 3rem 1rem 0;border-bottom:1px solid var(--color-outline);font-size:1.25rem}.icon-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:1.5rem}.icon-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;fill:var(--color-on-surface);padding:0;margin:0 .5rem}.danger-option[_ngcontent-%COMP%]{color:var(--color-error)}.danger-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--color-error)}.rename-dialog[_ngcontent-%COMP%], .delete-dialog[_ngcontent-%COMP%], .text-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1.5rem;margin:1.5rem;max-width:75vw;max-height:75vh}@media (width < 765px){.rename-dialog[_ngcontent-%COMP%], .delete-dialog[_ngcontent-%COMP%], .text-dialog[_ngcontent-%COMP%]{max-width:90vw;margin:1rem}}.delete-dialog[_ngcontent-%COMP%]{background-color:var(--color-on-error-container);color:var(--color-on-error);padding:0 1rem 1rem;margin:0;gap:1rem}#deleteFileDialog[_ngcontent-%COMP%]::backdrop{background-image:linear-gradient(0deg,gray,#690005)}.text-content[_ngcontent-%COMP%]{max-width:75vw;max-height:70vh;overflow-y:auto;border:1px solid var(--color-outline);border-radius:1rem;margin:.25rem}.text-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{padding:1rem;white-space:pre-wrap;word-wrap:break-word;text-align:start;counter-reset:listing;line-height:0;--indent: 2rem;--lineHeight: 2}.text-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{counter-increment:listing;display:block;padding:0 0 0 var(--indent);text-indent:calc(-1 * var(--indent));margin:0;line-height:var(--lineHeight)}.text-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]:before{content:counter(listing) ". ";display:inline-block;width:var(--indent);padding-left:auto;margin-left:auto;text-align:right;color:var(--color-outline)}@media (width < 765px){.text-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{padding:.5rem;--indentSm: 1.5rem;--lineHeightSm: 1.25}.text-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{padding:0 0 0 var(--indentSm);text-indent:calc(-1 * var(--indentSm));line-height:var(--lineHeightSm)}.text-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]:before{width:var(--indentSm)}}.buttons-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;gap:1rem;width:70%}.rename-input[_ngcontent-%COMP%]{field-sizing:content;min-width:50vw;max-width:75vw;padding:1rem;border:1px solid var(--color-outline);border-radius:1rem;font-size:1.2rem}@media (width < 765px){.rename-input[_ngcontent-%COMP%]{max-width:90vw}}.info-dialog[_ngcontent-%COMP%], .info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:1.5rem;max-width:75vw;align-items:center;max-height:75vh}@media (width < 765px){.info-dialog[_ngcontent-%COMP%], .info-container[_ngcontent-%COMP%]{max-width:90vw}}.info-container[_ngcontent-%COMP%]{max-height:65vh;overflow-y:auto}section[_ngcontent-%COMP%]{width:100%}.info-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin:1rem .5rem;gap:1rem}@media (width < 765px){.info-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.25rem}}.info-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .info-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;text-align:left;width:30%}@media (width < 765px){.info-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .info-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;font-weight:unset;font-style:italic;font-size:small}}.info-content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){text-decoration:none;text-align:left;margin:0;padding:.25rem}'],changeDetection:0});let e=l;return e})();var ft=["deleteDialog"];function xt(e,l){e&1&&C(0,"app-load-indicator",2)}function vt(e,l){if(e&1&&(t(0,"div",13),w(),t(1,"svg",39),C(2,"path",40),n()()),e&2){m(2);let o=M(2);r(),I("view-transition-name: media-"+o.id+"-logo")}}function ht(e,l){e&1&&(t(0,"div",41),w(),t(1,"svg",43),C(2,"path",44),n()())}function wt(e,l){if(e&1&&(t(0,"span"),w(),t(1,"svg",46),C(2,"path",47),n()()),e&2){m(4);let o=M(2);r(),I("view-transition-name: media-"+o.id+"-logo")}}function Mt(e,l){if(e&1&&(t(0,"span"),w(),t(1,"svg",48),C(2,"path",49),n()()),e&2){m(4);let o=M(2);r(),I("view-transition-name: media-"+o.id+"-logo")}}function St(e,l){if(e&1){let o=S();t(0,"div",45),f("click",function(){_(o);let d=m(3);return p(d.monitorMedia())}),g(1,wt,3,2,"span")(2,Mt,3,2,"span"),n()}if(e&2){m(3);let o=M(2);h("title",o.monitor?"Monitored, click to change":"Not Monitored, click to change"),r(),u(o.monitor?1:2)}}function bt(e,l){if(e&1&&g(0,ht,3,0,"div",41)(1,St,3,2,"div",42),e&2){let o=m(2);u(o.isLoadingMonitor()?0:1)}}function Tt(e,l){if(e&1&&(t(0,"a",16),C(1,"img",50),n()),e&2){m(2);let o=M(2);h("href",Q("https://www.imdb.com/title/",o.imdb_id,"/"),V)}}function Dt(e,l){if(e&1&&(t(0,"a",51),C(1,"img",53),n()),e&2){m(3);let o=M(2);h("href",Q("https://www.themoviedb.org/movie/",o.txdb_id),V)}}function yt(e,l){if(e&1&&(t(0,"a",52),C(1,"img",54),n()),e&2){m(3);let o=M(2);h("href",Q("https://www.thetvdb.com/?tab=series&id=",o.txdb_id),V)}}function kt(e,l){if(e&1&&g(0,Dt,2,2,"a",51)(1,yt,2,2,"a",52),e&2){m(2);let o=M(2);u(o.is_movie?0:1)}}function Pt(e,l){if(e&1&&(t(0,"a",55),C(1,"img",57),n()),e&2){let o=m(3);h("href",o.arr_url(),V)}}function Ot(e,l){if(e&1&&(t(0,"a",56),C(1,"img",58),n()),e&2){let o=m(3);h("href",o.arr_url(),V)}}function Et(e,l){if(e&1&&g(0,Pt,2,1,"a",55)(1,Ot,2,1,"a",56),e&2){m(2);let o=M(2);u(o.is_movie?0:1)}}function Ft(e,l){if(e&1){let o=S();t(0,"span",59),f("click",function(){_(o);let d=m(2);return p(d.openProfileSelectDialog(!0))}),w(),t(1,"svg",60),C(2,"path",61),n()()}}function Vt(e,l){e&1&&(t(0,"span",32),w(),t(1,"svg",62)(2,"circle",63),C(3,"animate",64),n(),t(4,"circle",65),C(5,"animate",66),n(),t(6,"circle",67),C(7,"animate",68),n()()())}function It(e,l){if(e&1){let o=S();t(0,"button",69),f("click",function(){_(o);let d=m(2);return p(d.saveYtId())}),w(),t(1,"svg",60),C(2,"path",70),n()()}}function Lt(e,l){e&1&&(t(0,"p",34),a(1,"Click Download to download trailer from updated link!"),n())}function qt(e,l){if(e&1){let o=S();t(0,"button",71),f("click",function(){_(o);let d=m(2);return p(d.openTrailer())}),a(1,"Watch"),n()}}function Qt(e,l){e&1&&(t(0,"span",73),w(),t(1,"svg",43),C(2,"path",44),n()())}function Zt(e,l){if(e&1){let o=S();t(0,"button",72),f("click",function(){_(o);let d=m(2);return p(d.openProfileSelectDialog(!1))}),t(1,"span"),a(2,"Download "),n(),g(3,Qt,3,0,"span",73),n()}if(e&2){let o=m(2),i=M(2);h("disabled",o.isLoadingDownload()||i.status=="downloading"),r(3),u(o.isLoadingDownload()||i.status=="downloading"?3:-1)}}function Rt(e,l){if(e&1){let o=S();t(0,"button",74),f("click",function(){_(o);let d=m(2);return p(d.showDeleteDialog())}),a(1,"Delete"),n()}}function Ht(e,l){if(e&1){let o=S();t(0,"div",7),C(1,"div",8),t(2,"div",9),C(3,"img",10),n(),t(4,"div",11)(5,"div",12),g(6,vt,3,2,"div",13)(7,bt,2,1),t(8,"span",14),a(9),n()(),t(10,"div",12)(11,"span",15),a(12),n(),t(13,"span",15),L(14,"durationConvert"),a(15),L(16,"durationConvert"),n()(),t(17,"div",12),g(18,Tt,2,2,"a",16),g(19,kt,2,1),g(20,Et,2,1),n(),t(21,"div",17)(22,"span")(23,"div",18)(24,"span",19),a(25,"Path"),n(),t(26,"span",20)(27,"code"),a(28),n()()()(),t(29,"span")(30,"div",21)(31,"span",19),a(32,"Status"),n(),t(33,"span",22),a(34),L(35,"titlecase"),t(36,"span",23)(37,"p"),a(38),n(),t(39,"p"),a(40),n(),t(41,"p"),a(42),n(),t(43,"p"),a(44),n(),t(45,"p"),a(46),n()()()()()(),t(47,"div",12)(48,"div",24)(49,"span",19),a(50,"Overview"),n(),t(51,"span",25),a(52),n()()(),t(53,"div",12)(54,"div",21)(55,"span",19),a(56,"Trailer"),n(),t(57,"div",26)(58,"div",27)(59,"span",28),a(60,"https://www.youtube.com/watch?v="),n(),t(61,"span",29),a(62,"Youtube ID/URL:"),n(),t(63,"input",30),pe("ngModelChange",function(d){_(o);let c=m();return _e(c.trailer_url,d)||(c.trailer_url=d),p(d)}),n()(),g(64,Ft,3,0,"span",31),g(65,Vt,8,0,"span",32),g(66,It,3,0,"button",33),n(),g(67,Lt,2,0,"p",34),n()(),t(68,"div",12),g(69,qt,2,0,"button",35),g(70,Zt,4,2,"button",36),g(71,Rt,2,0,"button",37),n()()(),C(72,"media-files",38)}if(e&2){let o=m(),i=M(2);r(),I("background-image: url("+i.fanart_path+");"),r(),z("sm-none",!i.poster_path),h("title",Q("",i.title," Poster")),r(),I("view-transition-name: media-"+i.id+"-image"),h("src",oe(i.poster_path||"assets/poster-lg.png"),V)("alt",oe(i.title)),r(3),u(i.trailer_exists?6:7),r(2),I("view-transition-name: media-"+i.id+"-title"),h("textToCopy",i.title)("title",i.title),r(),k(" ",i.title," "),r(2),h("title",i.year),r(),x(i.year),r(),h("title",q(14,44,i.runtime)),r(2),x(q(16,46,i.runtime)),r(3),u(i.imdb_id?18:-1),r(),u(i.txdb_id?19:-1),r(),u(o.arr_url()?20:-1),r(3),h("title",i.folder_path),r(3),h("textToCopy",i.folder_path),r(2),x(i.folder_path),r(6),k("",q(35,48,i.status)," "),r(4),k("Monitored: ",i.monitor),r(2),k("Downloaded: ",i.trailer_exists),r(2),k("Added: ",i.added_at.toLocaleString()),r(2),k("Updated: ",i.updated_at.toLocaleString()),r(2),k("Downloaded: ",i.downloaded_at.toLocaleString()||""),r(6),x(i.overview),r(11),me("ngModel",o.trailer_url),r(),u(i.youtube_trailer_id==""&&o.trailer_url==""&&!o.isLoadingDownload()?64:-1),r(),u(o.isLoadingDownload()?65:-1),r(),u(o.trailer_url!=i.youtube_trailer_id&&!o.isLoadingDownload()?66:-1),r(),u(o.trailer_url!=i.youtube_trailer_id?67:-1),r(2),u(i.youtube_trailer_id?69:-1),r(),u(!i.trailer_exists||i.youtube_trailer_id!=o.trailer_url?70:-1),r(),u(i.trailer_exists?71:-1),r(),h("mediaId",o.mediaId())}}var Pe=(()=>{let l=class l{constructor(){this.mediaService=P(Y),this.connectionService=P(be),this.websocketService=P(J),this.viewContainerRef=P(re),this.mediaId=j(0,{transform:Number}),this.selectedMedia=this.mediaService.selectedMedia,this.isLoading=E(()=>this.mediaService.mediaResource.isLoading()),this.isLoadingMonitor=O(!1),this.isLoadingDownload=O(!1),this.trailer_url="",this.arr_url=E(()=>{let i=this.selectedMedia();if(!i)return"";let c=this.connectionService.connectionsResource.value().find(s=>s.id==i.connection_id);return c?c.arr_type.toLowerCase()=="radarr"?c.url+"/movie/"+i.txdb_id:c.url+"/series/"+i.title_slug:""}),this.mediaIDChangeEffect=le(()=>{this.mediaService.selectedMediaID.set(this.mediaId())}),this.mediaDataChangeEffect=le(()=>{let i=this.selectedMedia();i&&(this.trailer_url=i.youtube_trailer_id)})}openProfileSelectDialog(i){let d=this.viewContainerRef.createComponent(Me);d.instance.onSubmit.subscribe(c=>{i?this.searchTrailer(c):this.downloadTrailer(c),setTimeout(()=>{d.destroy()},3e3)}),d.instance.onClosed.subscribe(()=>{setTimeout(()=>{d.destroy()},3e3)})}downloadTrailer(i){let d=this.selectedMedia()?.youtube_trailer_id?.toLowerCase()||"";this.trailer_url.toLowerCase().includes(d)&&this.selectedMedia()?.trailer_exists||(this.isLoadingDownload.set(!0),this.mediaService.downloadMediaTrailer(this.mediaId(),i,this.trailer_url).subscribe(s=>{console.log(s)}))}monitorMedia(){this.isLoadingMonitor.set(!0);let i=!this.selectedMedia()?.monitor;this.mediaService.monitorMedia(this.mediaId(),i).subscribe(d=>{console.log(d),this.selectedMedia().monitor=i,this.isLoadingMonitor.set(!1)})}searchTrailer(i){this.websocketService.showToast("Searching for trailer..."),this.isLoadingDownload.set(!0),this.mediaService.searchMediaTrailer(this.mediaId(),i).pipe(ee(d=>(console.error("Error searching trailer:",d.error.detail),this.websocketService.showToast(d.error.detail,"Error"),this.isLoadingDownload.set(!1),X("")))).subscribe(d=>{d&&(this.selectedMedia().youtube_trailer_id=d,this.trailer_url=d),this.isLoadingDownload.set(!1)})}saveYtId(){this.websocketService.showToast("Saving youtube id..."),this.isLoadingDownload.set(!0),this.mediaService.saveMediaTrailer(this.mediaId(),this.trailer_url).pipe(ee(i=>(console.error("Error searching trailer:",i.error.detail),this.websocketService.showToast(i.error.detail,"Error"),this.isLoadingDownload.set(!1),X("")))).subscribe(i=>{i&&(this.selectedMedia().youtube_trailer_id=i,this.trailer_url=i),this.isLoadingDownload.set(!1)})}openTrailer(){this.selectedMedia()?.youtube_trailer_id&&window.open(`https://www.youtube.com/watch?v=${this.selectedMedia()?.youtube_trailer_id}`,"_blank")}showDeleteDialog(){this.deleteDialog.nativeElement.showModal()}closeDeleteDialog(){this.deleteDialog.nativeElement.close()}onConfirmDelete(){this.closeDeleteDialog(),this.mediaService.deleteMediaTrailer(this.mediaId()).subscribe(i=>{console.log(i),this.selectedMedia().trailer_exists=!1})}};l.\u0275fac=function(d){return new(d||l)},l.\u0275cmp=Z({type:l,selectors:[["app-media-details"]],viewQuery:function(d,c){if(d&1&&T(ft,5),d&2){let s;D(s=y())&&(c.deleteDialog=s.first)}},inputs:{mediaId:[1,"mediaId"]},decls:17,vars:3,consts:[["deleteDialog",""],[1,"media-details-container"],[1,"center"],[3,"click"],[1,"dialog-content",3,"click"],["tabindex","2",1,"danger",3,"click"],["tabindex","1",1,"secondary",3,"click"],[1,"media-details-card"],[1,"media-fanart-overlay"],[1,"media-poster",3,"title"],[3,"src","alt"],[1,"media-details-col"],[1,"media-details-row"],["title","Trailer Downloaded",1,"icon-link"],["appCopyToClipboard","",1,"text-lg","title-text",3,"textToCopy","title"],[1,"text-md",3,"title"],["target","_blank","title","IMDB Link",3,"href"],[1,"media-details-row","extras"],[1,"labeled-text",3,"title"],[1,"label"],["appCopyToClipboard","",1,"text-sm",3,"textToCopy"],[1,"labeled-text"],[1,"text-sm","tooltip"],[1,"tooltiptext"],["title","Overview",1,"labeled-text"],[1,"text-sm"],[1,"input-row"],[1,"labeled-input"],[1,"text-md","sm-none"],[1,"text-md","sm-show"],["id","youtube_trailer_id","type","text","placeholder","Youtube Video ID / URL",3,"ngModelChange","ngModel"],["title","Search Trailer",1,"search-button","icon-link"],["title","Searching for Trailer",1,"loading-search","icon-link"],["id","update_trailer_search_query","tabindex","24",1,"primary","icononly-button","save-button","success"],[1,"text-sm","info-text"],["title","Watch Trailer on Youtube",1,"primary"],["title","Download Trailer",1,"primary",3,"disabled"],["title","Delete Trailer",1,"danger"],[3,"mediaId"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-label","Trailer Exists",1,"downloaded-icon","success"],["d","M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q65 0 123 19t107 53l-58 59q-38-24-81-37.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160q133 0 226.5-93.5T800-480q0-18-2-36t-6-35l65-65q11 32 17 66t6 70q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm-56-216L254-466l56-56 114 114 400-401 56 56-456 457Z"],["title","Updating Monitor Status",1,"icon-link"],[1,"icon-link",3,"title"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960",1,"loading"],["d","M343-107q-120-42-194.5-146.5T74-490q0-29 4-57.5T91-604l-57 33-37-62 185-107 106 184-63 36-54-92q-13 30-18.5 60.5T147-490q0 113 65.5 200T381-171l-38 64Zm291-516v-73h107q-47-60-115.5-93.5T480-823q-66 0-123.5 24T255-734l-38-65q54-45 121-71t142-26q85 0 160.5 33T774-769v-67h73v213H634ZM598-1 413-107l107-184 62 37-54 94q123-17 204.5-110.5T814-489q0-19-2.5-37.5T805-563h74q4 18 6 36.5t2 36.5q0 142-87 251.5T578-96l56 33-36 62Z"],[1,"icon-link",3,"click","title"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-label","Monitored",1,"monitored-icon"],["d","M713-600 600-713l56-57 57 57 141-142 57 57-198 198ZM200-120v-640q0-33 23.5-56.5T280-840h280q-20 30-30 57.5T520-720q0 72 45.5 127T680-524q23 3 40 3t40-3v404L480-240 200-120Z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-label","Not Monitored",1,"not-monitored-icon"],["d","M200-120v-640q0-33 23.5-56.5T280-840h240v80H280v518l200-86 200 86v-278h80v400L480-240 200-120Zm80-640h240-240Zm400 160v-80h-80v-80h80v-80h80v80h80v80h-80v80h-80Z"],["src","assets/IMDBlogo.png","alt","IMDB",1,"xdb-icon"],["target","_blank","title","TMDB Link",3,"href"],["target","_blank","title","TVDB Link",3,"href"],["src","assets/TMDBlogo.png","alt","TMDB",1,"xdb-icon"],["src","assets/TVDBlogo.png","alt","TVDB",1,"xdb-icon"],["target","_blank","title","Radarr Movie Link",3,"href"],["target","_blank","title","Sonarr Movie Link",3,"href"],["src","assets/radarr_128.png","alt","Radarr",1,"arr-icon"],["src","assets/sonarr_128.png","alt","TVDB",1,"arr-icon"],["title","Search Trailer",1,"search-button","icon-link",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960"],["d","M801-108 537-372q-31 26-72.96 40-41.96 14-86.6 14-114.6 0-192.52-78Q107-474 107-586t78-190q78-78 190-78t190 78q78 78 78 190.15 0 43.85-13.5 84.35Q616-461 588-425l266 264-53 53ZM375.5-391q81.75 0 138.13-56.79Q570-504.58 570-586q0-81.42-56.29-138.21Q457.43-781 375.59-781q-82.67 0-139.13 56.79Q180-667.42 180-586q0 81.42 56.46 138.21Q292.92-391 375.5-391Z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 200 200"],["stroke-width","14","r","15","cx","40","cy","65"],["attributeName","cy","calcMode","spline","dur","2","values","65;135;65;","keySplines",".5 0 .5 1;.5 0 .5 1","repeatCount","indefinite","begin","-.4"],["stroke-width","14","r","15","cx","100","cy","65"],["attributeName","cy","calcMode","spline","dur","2","values","65;135;65;","keySplines",".5 0 .5 1;.5 0 .5 1","repeatCount","indefinite","begin","-.2"],["stroke-width","14","r","15","cx","160","cy","65"],["attributeName","cy","calcMode","spline","dur","2","values","65;135;65;","keySplines",".5 0 .5 1;.5 0 .5 1","repeatCount","indefinite","begin","0"],["id","update_trailer_search_query","tabindex","24",1,"primary","icononly-button","save-button","success",3,"click"],["d","M378-246 154-470l43-43 181 181 384-384 43 43-427 427Z"],["title","Watch Trailer on Youtube",1,"primary",3,"click"],["title","Download Trailer",1,"primary",3,"click","disabled"],[1,"loading-icon"],["title","Delete Trailer",1,"danger",3,"click"]],template:function(d,c){if(d&1){let s=S();t(0,"div",1),g(1,xt,1,0,"app-load-indicator",2),N(2),g(3,Ht,73,50),n(),t(4,"dialog",3,0),f("click",function(){return _(s),p(c.closeDeleteDialog())}),t(6,"div",4),f("click",function(b){return _(s),p(b.stopPropagation())}),t(7,"h2"),a(8,"Delete Trailer"),n(),t(9,"p"),a(10,"This will Delete the trailer file on disk for this Media"),n(),t(11,"p"),a(12,"Are you sure?"),n(),t(13,"button",5),f("click",function(){return _(s),p(c.onConfirmDelete())}),a(14,"Delete"),n(),t(15,"button",6),f("click",function(){return _(s),p(c.closeDeleteDialog())}),a(16,"Cancel"),n()()()}if(d&2){r(),u(c.isLoading()?1:-1),r();let s=G(c.selectedMedia());r(),u(s?3:-1)}},dependencies:[Se,W,U,$,A,De,K,fe,ke],styles:[".media-details-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-x:hidden;overflow-y:auto;margin:1rem;border:1px solid var(--color-outline);border-radius:10px;position:relative}@media (width < 768px){.media-details-container[_ngcontent-%COMP%]{margin:.5rem}}.text-center[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);margin:auto}.media-details-card[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:1fr 3fr;padding:2rem;gap:2rem}.media-fanart-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:0;height:100%;background-size:cover;background-position:center;opacity:.4;border-radius:10px}.media-poster[_ngcontent-%COMP%]{z-index:2;display:flex;width:100%}.media-poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:300px;height:auto;object-fit:contain;margin-bottom:auto;view-transition-class:mediaimage}.media-details-col[_ngcontent-%COMP%]{z-index:2;flex:1;display:flex;flex-direction:column}.media-details-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:.3rem;gap:.75rem}.media-details-row[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{font-size:2.5rem;display:inline-block;overflow:hidden;max-width:70%;view-transition-class:mediatitle}.icon-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;text-decoration:none;transition:all .4s;cursor:pointer}.icon-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px;fill:var(--color-primary)}.nav-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem;margin-left:auto;margin-right:1rem}.icon-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{fill:var(--color-success)}.xdb-icon[_ngcontent-%COMP%]{width:60px;cursor:pointer;border-radius:4px}.arr-icon[_ngcontent-%COMP%]{height:30px;width:30px;cursor:pointer}.extras[_ngcontent-%COMP%]{flex-wrap:wrap}.labeled-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.labeled-text[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;opacity:.7;margin-bottom:.1rem}.labeled-input[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap!important;align-items:stretch;width:100%;border:1px solid var(--color-outline);border-radius:6px}.labeled-input[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;align-items:center;padding:.75rem;font-size:1rem;font-weight:400;color:var(--color-on-surface-variant);text-align:center;white-space:nowrap;background-color:var(--color-surface-container-high);border-right:1px solid var(--color-outline);border-top-left-radius:6px;border-bottom-left-radius:6px}.labeled-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1 1 auto;width:1%;min-width:100px;display:block;padding:.75rem;font-size:1rem;font-weight:400;color:var(--color-on-surface);border:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--color-surface-container);border-top-right-radius:6px;border-bottom-right-radius:6px}.input-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem}.loading-search[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{fill:var(--color-primary);stroke:var(--color-primary)}.save-button[_ngcontent-%COMP%]{height:40px;width:40px}.info-text[_ngcontent-%COMP%]{margin:.5rem;padding:.5rem;border-radius:.5rem;background-color:var(--color-info);color:var(--color-info-text);text-align:center}.loading-icon[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center}.loading-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.loading[_ngcontent-%COMP%]{animation:spin-animation 2s linear infinite}.dialog-content[_ngcontent-%COMP%]{background-color:var(--color-on-error-container);color:var(--color-on-error);padding:1rem;text-align:center}dialog[_ngcontent-%COMP%]::backdrop{background-image:linear-gradient(0deg,gray,#690005)}.dialog-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}@media (max-width: 765px){.media-details-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0;padding-top:2rem;gap:1rem}.media-poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:30vh;margin:0 auto}.media-details-col[_ngcontent-%COMP%]{align-items:center;margin:1rem;margin-top:0}.media-details-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:.3rem;gap:.75rem}.media-details-row[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{max-width:90%}}"]});let e=l;return e})();var fi=[{path:"",loadComponent:()=>Pe}];export{fi as default};
